{"type":"root","children":[{"type":"element","tag":"dimertitle","props":{},"children":[{"type":"text","value":"Introduction"}]},{"type":"element","tag":"h1","props":{"id":"introduction"},"children":[{"type":"element","tag":"a","props":{"href":"#introduction","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Introduction"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"AdonisJS uses "},{"type":"element","tag":"a","props":{"href":"/packages/edge"},"children":[{"type":"text","value":"Edge"}]},{"type":"text","value":" as its template engine. It is a fully featured template engine written for the modern day. It has out of the box support for:"}]},{"type":"element","tag":"div","props":{"className":["toc-container"]},"children":[{"type":"element","tag":"h2","props":{},"children":[{"type":"text","value":"Table of contents"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#setup"},"children":[{"type":"text","value":"Setup"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#usage"},"children":[{"type":"text","value":"Usage"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#how-it-works"},"children":[{"type":"text","value":"How it works?"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#syntax-guide"},"children":[{"type":"text","value":"Syntax Guide"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#the-curly-braces"},"children":[{"type":"text","value":"The Curly Braces"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#the-edge-tags"},"children":[{"type":"text","value":"The Edge tags"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#comments"},"children":[{"type":"text","value":"Comments"}]}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Conditionals and loops"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Components, layouts and partials"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Runtime debugging using Chrome DevTools"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Stack traces that points to the original filename and the line number"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Extensible API to add your own custom Edge tags"}]}]},{"type":"element","tag":"h2","props":{"id":"setup"},"children":[{"type":"element","tag":"a","props":{"href":"#setup","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Setup"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Edge comes pre-installed with the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Web Application"}]},{"type":"text","value":" project structure created using the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"create-adonis-ts-app"}]},{"type":"text","value":" binary. However, installing it separately is also pretty straight forward."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Open the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":".adonisrc.json"}]},{"type":"text","value":" file to check if it is installed and registered under the providers array or not."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":".adonisrc.json"}]},{"type":"element","tag":"pre","props":{"className":["language-json","line-numbers"],"dataLine":"4"},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token property\">\"providers\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">\"@adonisjs/core\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"@adonisjs/session\"</span><span class=\"token punctuation\">,</span>\n<span class=\"dimer-highlight-code-line\">  <span class=\"token string\">\"@adonisjs/view\"</span></span><span class=\"token punctuation\">]</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If not, then follow the below instructions to install it from the npm package registry."}]},{"type":"element","tag":"div","props":{"className":["tabs"]},"children":[{"type":"element","tag":"div","props":{"className":["tab-head"]},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{"dataTitle":"tab-1"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"li","props":{"dataTitle":"tab-2"},"children":[{"type":"text","value":"yarn"}]}]}]},{"type":"element","tag":"div","props":{"className":["tab-body"]},"children":[{"type":"element","tag":"div","props":{"className":["tab-item"],"id":"tab-1"},"children":[{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"pre","props":{"className":["language-sh","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token function\">npm</span> i @adonisjs/view\n"}]}]}]}]},{"type":"element","tag":"div","props":{"className":["tab-item"],"id":"tab-2"},"children":[{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"yarn"}]},{"type":"element","tag":"pre","props":{"className":["language-sh","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> @adonisjs/view\n"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once installed, run the following ace command to setup the package."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-sh","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"node ace invoke @adonisjs/view\n\n<span class=\"token comment\">#    update    .adonisrc.json</span>\n<span class=\"token comment\"># ✔  create    ace-manifest.json</span>\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"usage"},"children":[{"type":"element","tag":"a","props":{"href":"#usage","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Usage"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lets begin by creating a route that renders a given template file."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"start/routes.ts"}]},{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> view <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> view<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token string\">'home'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next step is to create the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"home.edge"}]},{"type":"text","value":" template. Template lives inside the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"resources/views"}]},{"type":"text","value":" directory of your project root. You can manually create a file inside this folder, or use the following ace command to create one."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-sh","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"node ace make:view home\n\n<span class=\"token comment\"># ✔  create    resources/views/home.edge</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's open the newly created file and paste the following code snippet inside it."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"resources/views/home.edge"}]},{"type":"element","tag":"pre","props":{"className":["language-edge","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span> Hello world. You are viewing the</span> <span class=\"token mustache\"><span class=\"token punctuation\">{{</span> request.url() <span class=\"token punctuation\">}}</span></span> <span class=\"token other\">page <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Make sure to start the development server by running "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"node ace serve --watch"}]},{"type":"text","value":" and visit "},{"type":"element","tag":"a","props":{"href":"http://localhost:3333"},"children":[{"type":"text","value":"http://localhost:3333"}]},{"type":"text","value":" to view the contents of the template file."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/q_auto,w_700,f_auto,fl_lossy/v1583063256/adonisjs.com/view-usage.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"how-it-works"},"children":[{"type":"element","tag":"a","props":{"href":"#how-it-works","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"How it works?"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Every route handler receives an instance of "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"view"}]},{"type":"text","value":" that is used to render template files."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"view.render"}]},{"type":"text","value":" method accepts a relative path from the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"resources/views"}]},{"type":"text","value":" directory."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"During the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"view.render"}]},{"type":"text","value":" call, you can pass the template state/data as 2nd argument."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"view<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token string\">'home'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> greeting<span class=\"token operator\">:</span> <span class=\"token string\">'Hello world'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"syntax-guide"},"children":[{"type":"element","tag":"a","props":{"href":"#syntax-guide","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Syntax Guide"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before learning about the features of Edge, it is very important to understand the Edge syntax at the fundamental level, since everything else is layers on top of these fundamentals."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are basically two distinct ways of writing Javascript or logic inside your templates."}]},{"type":"element","tag":"h3","props":{"id":"the-curly-braces"},"children":[{"type":"element","tag":"a","props":{"href":"#the-curly-braces","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"The Curly Braces"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The curly braces (or mustache braces) are commonly used across many different template engines. Edge also uses the same syntax for interpolation."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-edge","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token mustache\"><span class=\"token punctuation\">{{</span> username <span class=\"token punctuation\">}}</span></span>\n<span class=\"token mustache\"><span class=\"token punctuation\">{{</span> username.toUpperCase() <span class=\"token punctuation\">}}</span></span>\n\n<span class=\"token mustache\"><span class=\"token punctuation\">{{</span> users[<span class=\"token number\">0</span>].username <span class=\"token punctuation\">}}</span></span>\n<span class=\"token mustache\"><span class=\"token punctuation\">{{</span> users.length ? users[<span class=\"token number\">0</span>].username : <span class=\"token string\"><span class=\"token punctuation\">'</span><span class=\"token other\">Guest</span><span class=\"token punctuation\">'</span></span> <span class=\"token punctuation\">}}</span></span>\n\n<span class=\"token comment\">{{-- Multiline --}}</span>\n<span class=\"token other\">{{\n  users.map((user) => {\n    return user.username\n  }).join(',')\n}}</span>\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"the-edge-tags"},"children":[{"type":"element","tag":"a","props":{"href":"#the-edge-tags","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"The Edge tags"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A fully featured template engine needs many more features than just outputting Javascript expressions. For example: Including partials, writing conditionals and so on. These features are added using the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"tags API"}]},{"type":"text","value":" of Edge."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The following is the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"include"}]},{"type":"text","value":" tag for including partials."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-edge","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token tag\"><span class=\"token function\">@include</span>(<span class=\"token string\"><span class=\"token punctuation\">'</span>header<span class=\"token punctuation\">'</span></span>)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The following is an "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"each"}]},{"type":"text","value":" tag for iterating for an array of items. However, the each tag accepts additional markup inside the opening and closing expressions."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-edge","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token tag\"><span class=\"token function\">@each</span>(user <span class=\"token keyword\">in </span>users)</span>\n  <span class=\"token other\">-</span> <span class=\"token mustache\"><span class=\"token punctuation\">{{</span> user.username <span class=\"token punctuation\">}}</span></span>\n<span class=\"token tag\"><span class=\"token function\">@endeach</span></span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Similarly, there are many more tags to enrich the templating experience. The great thing is, Edge also "},{"type":"element","tag":"a","props":{"href":"creating-custom-tags"},"children":[{"type":"text","value":"exposes the API"}]},{"type":"text","value":" for creating your own tags."}]},{"type":"element","tag":"h3","props":{"id":"comments"},"children":[{"type":"element","tag":"a","props":{"href":"#comments","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Comments"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, you can also write comments inside your templates."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-edge","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token comment\">{{-- A block level comment --}}</span>\n\n<span class=\"token comment\">{{--\n  A multiline comment\n--}}</span>\n\n<span class=\"token other\">Hello</span> <span class=\"token comment\">{{-- inline comment --}}</span> <span class=\"token other\">everyone!</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Most of the times, you will be generating HTML from your edge templates, so using the standard HTML comments is also fine. However, the Edge comments becomes helpful, when you are using them inside a language that doesn't have comments, like "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"JSON"}]},{"type":"text","value":" or "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Markdown"}]},{"type":"text","value":"."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-edge","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token other\">{</span>\n  <span class=\"token comment\">{{-- The main account username --}}</span>\n  <span class=\"token other\">\"username\": \"</span><span class=\"token mustache\"><span class=\"token punctuation\">{{</span> username <span class=\"token punctuation\">}}</span></span><span class=\"token other\">\"\n}</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Output"}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-json","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"username\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"virk\"</span>\n<span class=\"token punctuation\">}</span>\n"}]}]}]}]}
