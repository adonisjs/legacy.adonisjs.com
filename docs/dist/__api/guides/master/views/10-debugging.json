{"type":"root","children":[{"type":"element","tag":"dimertitle","props":{},"children":[{"type":"text","value":"Debugging"}]},{"type":"element","tag":"h1","props":{"id":"debugging"},"children":[{"type":"element","tag":"a","props":{"href":"#debugging","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Debugging"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since templates are not written in standard programming language, they often lack the context visibility. However, with Edge, we give you enough tooling to inspect and debug templates. By the end of this guide, you will know:"}]},{"type":"element","tag":"div","props":{"className":["toc-container"]},"children":[{"type":"element","tag":"h2","props":{},"children":[{"type":"text","value":"Table of contents"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#accurate-stack-traces"},"children":[{"type":"text","value":"Accurate stack traces"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#compile-time-errors"},"children":[{"type":"text","value":"Compile time errors"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#runtime-errors"},"children":[{"type":"text","value":"Runtime errors"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#inspecting-objects"},"children":[{"type":"text","value":"Inspecting Objects"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#using-debugger"},"children":[{"type":"text","value":"Using Debugger"}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"How to inspect "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"objects"}]},{"type":"text","value":" and the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"state"}]},{"type":"text","value":" of the template."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"How to use Chrome DevTools for debugging the template output."}]}]},{"type":"element","tag":"h2","props":{"id":"accurate-stack-traces"},"children":[{"type":"element","tag":"a","props":{"href":"#accurate-stack-traces","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Accurate stack traces"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The first step to better debugging experience is to provide accurate stack traces. Edge does a pretty good job in pointing to the correct filename and the line number of the error."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Following are the screenshots demonstrating compile time and runtime errors."}]},{"type":"element","tag":"h3","props":{"id":"compile-time-errors"},"children":[{"type":"element","tag":"a","props":{"href":"#compile-time-errors","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Compile time errors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/q_auto,w_700,f_auto,fl_lossy/v1587039853/adonisjs.com/edge-compile-error.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"runtime-errors"},"children":[{"type":"element","tag":"a","props":{"href":"#runtime-errors","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Runtime errors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/q_auto,w_700,f_auto,fl_lossy/v1587040053/adonisjs.com/edge-runtime-error.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The stack traces works fine with components, partials and layouts too."}]},{"type":"element","tag":"h2","props":{"id":"inspecting-objects"},"children":[{"type":"element","tag":"a","props":{"href":"#inspecting-objects","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Inspecting Objects"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Edge also provides a helper "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"inspect"}]},{"type":"text","value":" to inspect values within your templates. The helper is similar to "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"JSON.stringify"}]},{"type":"text","value":", but also pretty prints the output for better readability."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can inspect an object as shown below."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-edge","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token mustache\"><span class=\"token punctuation\">{{</span> inspect({ username: <span class=\"token string\"><span class=\"token punctuation\">'</span><span class=\"token other\">virk</span><span class=\"token punctuation\">'</span></span>, age: <span class=\"token number\">28</span>, isAdmin: true }) <span class=\"token punctuation\">}}</span></span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/q_auto,w_700,f_auto,fl_lossy/v1587022522/adonisjs.com/edge-inspect.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also inspect the state of a template as shown in the following example."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-edge","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token mustache\"><span class=\"token punctuation\">{{</span> inspect(state) <span class=\"token punctuation\">}}</span></span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/q_auto,w_700,f_auto,fl_lossy/v1587048614/adonisjs.com/componet-inspect.png"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"using-debugger"},"children":[{"type":"element","tag":"a","props":{"href":"#using-debugger","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Using Debugger"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, you can also dig into the compiled output by using the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"@debugger"}]},{"type":"text","value":" tag. For debugging to work, you will have to use Google Chrome and its DevTools."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For demonstration, lets create a new template and paste following contents inside it."}]},{"type":"element","tag":"div","props":{"className":["tabs"]},"children":[{"type":"element","tag":"div","props":{"className":["tab-head"]},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{"dataTitle":"tab-1"},"children":[{"type":"text","value":"View"}]},{"type":"element","tag":"li","props":{"dataTitle":"tab-2"},"children":[{"type":"text","value":"Route"}]}]}]},{"type":"element","tag":"div","props":{"className":["tab-body"]},"children":[{"type":"element","tag":"div","props":{"className":["tab-item"],"id":"tab-1"},"children":[{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"View"}]},{"type":"element","tag":"pre","props":{"className":["language-edge","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token other\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span></span><span class=\"token mustache\"><span class=\"token punctuation\">{{</span> title <span class=\"token punctuation\">}}</span></span><span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"dimer-highlight-code-line\">  <span class=\"token keyword\">@debugger</span></span><span class=\"token tag\"><span class=\"token function\">  @if</span>(user.username)</span>\n    <span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span> Hello</span> <span class=\"token mustache\"><span class=\"token punctuation\">{{</span> user.username <span class=\"token punctuation\">}}</span></span> <span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span></span>\n<span class=\"token tag\"><span class=\"token function\">  @endif</span></span>\n<span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span>\n"}]}]}]}]},{"type":"element","tag":"div","props":{"className":["tab-item"],"id":"tab-2"},"children":[{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Route"}]},{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token string\">'welcome'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  title<span class=\"token operator\">:</span> <span class=\"token string\">'Home page'</span><span class=\"token punctuation\">,</span>\n  user<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    username<span class=\"token operator\">:</span> <span class=\"token string\">'virk'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, start the HTTP server by running "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"node ace serve --watch"}]},{"type":"text","value":" command, but also pass "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"--node-args=\"--inspect\""}]},{"type":"text","value":" flag to it."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-sh","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"node ace serve --watch --node-args<span class=\"token operator\">=</span><span class=\"token string\">\"--inspect\"</span>\n\n<span class=\"token comment\"># Debugger listening on ws://127.0.0.1:9229/7f98f05a-6d74-4d2a-9aa6-b69fda272a90</span>\n<span class=\"token comment\"># For help, see: https://nodejs.org/en/docs/inspector</span>\n<span class=\"token comment\"># [1587053678353] INFO  (hello-world/72154 on MacBook-Pro-9.local): started server on 0.0.0.0:3333</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, visit "},{"type":"element","tag":"a","props":{"href":"http://localhost:3333"},"children":[{"type":"text","value":"http://localhost:3333"}]},{"type":"text","value":" inside Google Chrome and debug as shown in the following video."}]},{"type":"element","tag":"div","props":{"className":["embed","video"]},"children":[{"type":"element","tag":"video","props":{"controls":true},"children":[{"type":"element","tag":"source","props":{"src":"https://res.cloudinary.com/adonis-js/video/upload/q_80/v1587055017/adonisjs.com/edge-debugging-chrome-540_hwebpl.mp4","type":"video/mp4"},"children":[]}]}]}]}
