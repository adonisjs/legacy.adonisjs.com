{"type":"root","children":[{"type":"element","tag":"dimertitle","props":{},"children":[{"type":"text","value":"Routing"}]},{"type":"element","tag":"h1","props":{"id":"routing"},"children":[{"type":"element","tag":"a","props":{"href":"#routing","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Routing"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This guide covers the HTTP routing capabilities of the framework. By the end of this guide, you will know:"}]},{"type":"element","tag":"div","props":{"className":["toc-container"]},"children":[{"type":"element","tag":"h2","props":{},"children":[{"type":"text","value":"Table of contents"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#what-are-http-routes"},"children":[{"type":"text","value":"What are HTTP routes?"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#http-methods"},"children":[{"type":"text","value":"Http Methods"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#route-handlers"},"children":[{"type":"text","value":"Route Handlers"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#dynamic-urls"},"children":[{"type":"text","value":"Dynamic URL's"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#optional-parameters"},"children":[{"type":"text","value":"Optional Parameters"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#regular-expression-matchers"},"children":[{"type":"text","value":"Regular Expression Matchers"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#crud-actions"},"children":[{"type":"text","value":"CRUD Actions"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#route-resources"},"children":[{"type":"text","value":"Route resources"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#filtering-resourceful-routes"},"children":[{"type":"text","value":"Filtering Resourceful Routes"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#nested-resources"},"children":[{"type":"text","value":"Nested resources"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#route-groups"},"children":[{"type":"text","value":"Route Groups"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#route-prefix"},"children":[{"type":"text","value":"Route Prefix"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#route-middleware"},"children":[{"type":"text","value":"Route Middleware"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#middleware-classes"},"children":[{"type":"text","value":"Middleware Classes"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#applying-middleware-to-route-groups"},"children":[{"type":"text","value":"Applying Middleware to Route Groups"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#applying-middleware-to-route-resources"},"children":[{"type":"text","value":"Applying Middleware to Route Resources"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#domains"},"children":[{"type":"text","value":"Domains"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#naming-routes"},"children":[{"type":"text","value":"Naming Routes"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#naming-resourceful-routes"},"children":[{"type":"text","value":"Naming Resourceful Routes"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#naming-route-groups"},"children":[{"type":"text","value":"Naming Route Groups"}]}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What are HTTP routes."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"How to define routes following the REST principles."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"How to define dynamic routes using parameters."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Binding controller methods to routes."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Advanced concepts like shallow resources and pattern matching."}]}]},{"type":"element","tag":"h2","props":{"id":"what-are-http-routes"},"children":[{"type":"element","tag":"a","props":{"href":"#what-are-http-routes","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"What are HTTP routes?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The users of your website or web application can visit different URL's like "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/about"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/contact"}]},{"type":"text","value":". In order to make these URLs work, you will have to define them as "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"routes"}]},{"type":"text","value":" inside the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"start/routes.ts"}]},{"type":"text","value":" file."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's start by defining the following routes."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"start/routes.ts"}]},{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token keyword\">import</span> Route <span class=\"token keyword\">from</span> <span class=\"token string\">'@ioc:Adonis/Core/Route'</span>\n\nRoute<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'This is the home page'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nRoute<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/about'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'This is the about page'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nRoute<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/contact'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'This is the contact page'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"div","props":{"className":["alert","alert-note"]},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Make sure to start the HTTP server by running "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"node ace serve --watch"}]},{"type":"text","value":" command."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The above example registers a total of following three URLS. Each one will respond with the route handler return value."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://localhost:3333"},"children":[{"type":"text","value":"http://localhost:3333"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://localhost:3333/about"},"children":[{"type":"text","value":"http://localhost:3333/about"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://localhost:3333/contact"},"children":[{"type":"text","value":"http://localhost:3333/contact"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you try to visit a different URL, for example: "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/blog"}]},{"type":"text","value":", you will receive a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"404 (Page not found)"}]},{"type":"text","value":" error."}]},{"type":"element","tag":"h4","props":{"id":"points-to-note"},"children":[{"type":"element","tag":"a","props":{"href":"#points-to-note","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Points to note"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"A route always has a URL pattern and a handler function to handle requests for that specific URL."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"start/routes.ts"}]},{"type":"text","value":" file is preloaded by AdonisJS during the application boot process."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You can view the registered routes by running "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"node ace list:routes"}]},{"type":"text","value":" command inside the terminal."}]}]},{"type":"element","tag":"h2","props":{"id":"http-methods"},"children":[{"type":"element","tag":"a","props":{"href":"#http-methods","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Http Methods"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can define routes for different "},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods"},"children":[{"type":"text","value":"HTTP methods"}]},{"type":"text","value":" by calling the equivalent method names on the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route"}]},{"type":"text","value":" object."}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Http method"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Route method"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"GET"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route.get"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"POST"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route.post"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"PUT"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route.put"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"PATCH"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route.patch"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"DELETE"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"‌Route.delete"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"OPTIONS"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"‌Route.options"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The above mentioned methods only covers the commonly used HTTP methods. However, you can also define routes for any valid HTTP method."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token function\">route</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'TRACE'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'Responds to TRACE HTTP method'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you only need to render a view (like a static page), you don't need to write a complete route handler."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token comment\">// The view resources/view/home.edge will be automatically</span>\n<span class=\"token comment\">// rendered when reaching /.</span>\nRoute<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token string\">'home'</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"route-handlers"},"children":[{"type":"element","tag":"a","props":{"href":"#route-handlers","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Route Handlers"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every route must have a corresponding handler to handle the request. Handlers can be inline closures or reference to a controller method."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The inline closures are functions, directly attached on the route definition. They are great for quickly testing out some code. However, we highly recommend keeping the routes file clean by using Controllers."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"On the other hand, Controllers provides a great structure to your application by making you extract the code for handling requests to dedicated controller files. Make sure to read the "},{"type":"element","tag":"a","props":{"href":"controllers"},"children":[{"type":"text","value":"guide on controllers"}]},{"type":"text","value":" for in-depth understanding."}]},{"type":"element","tag":"div","props":{"className":["tabs"]},"children":[{"type":"element","tag":"div","props":{"className":["tab-head"]},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{"dataTitle":"tab-1"},"children":[{"type":"text","value":"Reference"}]},{"type":"element","tag":"li","props":{"dataTitle":"tab-2"},"children":[{"type":"text","value":"Closure"}]}]}]},{"type":"element","tag":"div","props":{"className":["tab-body"]},"children":[{"type":"element","tag":"div","props":{"className":["tab-item"],"id":"tab-1"},"children":[{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Reference"}]},{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'users'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'UserController.index'</span><span class=\"token punctuation\">)</span>\nRoute<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'admin/users'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Admin/UserController.index'</span><span class=\"token punctuation\">)</span>\n"}]}]}]}]},{"type":"element","tag":"div","props":{"className":["tab-item"],"id":"tab-2"},"children":[{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Closure"}]},{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'users'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"dynamic-urls"},"children":[{"type":"element","tag":"a","props":{"href":"#dynamic-urls","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Dynamic URL's"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Not every URL can be as simple as "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/about"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/contact"}]},{"type":"text","value":". Many URL's will need dynamic values in order to be functional. A great example of this is a blog or an e-commerce website, where you want to lookup database records for a given id."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's continue with the blog example and see how we can accept the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"blog post id"}]},{"type":"text","value":" as part of the url and then render the correct blog post."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts/:id'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> params <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You are viewing a blog post with id </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>params<span class=\"token punctuation\">.</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"div","props":{"className":["alert","alert-note"]},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Make sure to start the HTTP server by running "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"node ace serve --watch"}]},{"type":"text","value":" command."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, if you will visit the "},{"type":"element","tag":"a","props":{"href":"http://localhost:3333/posts/1"},"children":[{"type":"text","value":"http://localhost:3333/posts/1"}]},{"type":"text","value":", you will see the following message."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/q_auto,w_700,f_auto,fl_lossy/v1582021556/adonisjs.com/dynamic-urls-static.png"},"children":[]}]},{"type":"element","tag":"h4","props":{"id":"what-just-happened"},"children":[{"type":"element","tag":"a","props":{"href":"#what-just-happened","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"What just happened?"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":":id"}]},{"type":"text","value":" is an expression "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"(known as route parameters)"}]},{"type":"text","value":" that tells AdonisJS to accept any value and store it as "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"id"}]},{"type":"text","value":" under the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"params"}]},{"type":"text","value":" object."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You can give any name to the parameter, just make sure that it starts with "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":":"}]},{"type":"text","value":" (a colon)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"params"}]},{"type":"text","value":" property exists on the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"ctx"}]},{"type":"text","value":" object. You can access it as "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"ctx.params"}]},{"type":"text","value":" or use the "},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Object_destructuring"},"children":[{"type":"text","value":"JavaScript destructuring"}]},{"type":"text","value":" as shown in the above example."}]}]},{"type":"element","tag":"h3","props":{"id":"optional-parameters"},"children":[{"type":"element","tag":"a","props":{"href":"#optional-parameters","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Optional Parameters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also mark parameters as optional by adding the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"?"}]},{"type":"text","value":" suffix. Consider the following example:"}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"                    👇\nRoute<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts/:id?'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> params <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You are viewing a blog post with id </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>params<span class=\"token punctuation\">.</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You are viewing all blog posts</span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"div","props":{"className":["embed","video"]},"children":[{"type":"element","tag":"video","props":{"controls":true},"children":[{"type":"element","tag":"source","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/q_80/v1582021461/adonisjs.com/dynamic-urls.mp4","type":"video/mp4"},"children":[]}]}]},{"type":"element","tag":"h3","props":{"id":"regular-expression-matchers"},"children":[{"type":"element","tag":"a","props":{"href":"#regular-expression-matchers","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Regular Expression Matchers"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can constraints the route parameters to have a specific shape by adding the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"where"}]},{"type":"text","value":" modifier."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts/:id'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> <span class=\"token regex\">/^[0-9]+$/</span><span class=\"token punctuation\">)</span> 👈\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When using them inside a Route Group, the route modifier take precedence over the group one."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/:id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'handler'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> <span class=\"token regex\">/^[0-9]+$/</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 👈 This one will be used</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> <span class=\"token regex\">/^[a-z]+$/</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"crud-actions"},"children":[{"type":"element","tag":"a","props":{"href":"#crud-actions","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"CRUD Actions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The principles of "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/Representational_state_transfer"},"children":[{"type":"text","value":"REST"}]},{"type":"text","value":" provides a great way to map CRUD operations with HTTP methods without making the URL's verbose."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For example: The URL "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/posts"}]},{"type":"text","value":" can be used to "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"view all the posts"}]},{"type":"text","value":" and also to "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"create a new post"}]},{"type":"text","value":", just by using the correct HTTP method."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'List of posts'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n      👇\nRoute<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'Create a new post'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using the principles of "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/Representational_state_transfer"},"children":[{"type":"text","value":"REST"}]},{"type":"text","value":", following are the routes to perform CRUD operations on blog posts."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'Perform Create'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nRoute<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'Perform Read'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nRoute<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts/:id'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'Perform Read on a single post'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nRoute<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts/:id'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'Perform Update'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nRoute<span class=\"token punctuation\">.</span><span class=\"token keyword\">delete</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts/:id'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'Perform Delete'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since, the above pattern is so popular and widely used. AdonisJS provides a shortcut to define all the RESTful routes using "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Route resources"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"route-resources"},"children":[{"type":"element","tag":"a","props":{"href":"#route-resources","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Route resources"}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'posts'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PostsController'</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route.resource"}]},{"type":"text","value":" method registers the following routes along with the appropriate controller methods."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/q_auto,w_700,f_auto,fl_lossy/v1582021833/adonisjs.com/list_routes.png"},"children":[]}]},{"type":"element","tag":"div","props":{"className":["alert","alert-note"]},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Resourceful routes has two implications."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The dynamic parameter name is always "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":":id"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You always need to assign a controller to a resource."}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you notice, the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route.resource"}]},{"type":"text","value":" method creates two extra routes."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/posts/create"}]},{"type":"text","value":" route is meant to display the form for creating a new post."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/posts/:id/edit"}]},{"type":"text","value":" route is meant to display the form for updating an existing post."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"However, when creating an API server, the routes to display forms are redundant and can be removed using the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"apiOnly"}]},{"type":"text","value":" method."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n  <span class=\"token punctuation\">.</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'posts'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PostsController'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">apiOnly</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> 👈\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"filtering-resourceful-routes"},"children":[{"type":"element","tag":"a","props":{"href":"#filtering-resourceful-routes","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Filtering Resourceful Routes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In many situations, you would want to prevent some of the resourceful routes from getting registered. For example: You decided to restrict the users of your blog from "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"updating"}]},{"type":"text","value":" or "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"deleting"}]},{"type":"text","value":" their comments and hence routes for the same are not required."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n  <span class=\"token punctuation\">.</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'comments'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'CommentsController'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">except</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'update'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'destroy'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> 👈\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The opposite of "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"except"}]},{"type":"text","value":" is the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"only"}]},{"type":"text","value":" method to whitelist selected routes."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n  <span class=\"token punctuation\">.</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'comments'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'CommentsController'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">only</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'index'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'create'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'store'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'show'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'edit'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> 👈\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"except"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"only"}]},{"type":"text","value":" methods takes an array of subset of route names to blacklist or whitelist. When both are applied together, the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"only"}]},{"type":"text","value":" method will win."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Learn more about "},{"type":"element","tag":"a","props":{"href":"#naming-routes"},"children":[{"type":"text","value":"route names"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"nested-resources"},"children":[{"type":"element","tag":"a","props":{"href":"#nested-resources","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Nested resources"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nested resources are registered using the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"dot notation (.)"}]},{"type":"text","value":". Even though there is no technical limitation on the nesting level, it is recommended to avoid deeply nested resources."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'posts.comments'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'CommentsController'</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The above example registers the following routes. The "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"parent resource id"}]},{"type":"text","value":" gets prefixed with the resource name, ie: "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"post_id"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/q_auto,w_700,f_auto,fl_lossy/v1582022101/adonisjs.com/nested-resource.png"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"route-groups"},"children":[{"type":"element","tag":"a","props":{"href":"#route-groups","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Route Groups"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"AdonisJS provides a great way to group multiple routes of similar nature and bulk configure them instead of re-defining same properties on every route."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A group is created by passing a closure to the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route.group"}]},{"type":"text","value":" method. Routes, declared inside the closure are part of the surrounding group."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// All routes here are part of the group</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also create nested groups and AdonisJS will merge or override properties based upon the behavior of the applied setting."}]},{"type":"element","tag":"h3","props":{"id":"route-prefix"},"children":[{"type":"element","tag":"a","props":{"href":"#route-prefix","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Route Prefix"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can prefix the group routes URL using the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":".prefix"}]},{"type":"text","value":" method. For example: Adding "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/blog"}]},{"type":"text","value":" prefix to all blog related routes."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n  <span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PostsController.index'</span><span class=\"token punctuation\">)</span>\n    Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts/:id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PostsController.show'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">prefix</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/blog'</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In case of nested groups, all prefixes will be applied starting from the outer to the inner groups. For example"}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n  <span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PostsController.index'</span><span class=\"token punctuation\">)</span>\n\n    Route\n      <span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PostsApiController.index'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">prefix</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">prefix</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/blog'</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/q_auto,w_700,f_auto,fl_lossy/v1582023737/adonisjs.com/nested-groups.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also define "},{"type":"element","tag":"a","props":{"href":"#applying-middleware-to-route-groups"},"children":[{"type":"text","value":"middleware"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"#domains"},"children":[{"type":"text","value":"sub-domains"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"#naming-routes"},"children":[{"type":"text","value":"route names"}]},{"type":"text","value":" on a group of routes."}]},{"type":"element","tag":"h2","props":{"id":"route-middleware"},"children":[{"type":"element","tag":"a","props":{"href":"#route-middleware","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Route Middleware"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Middleware offers an API to execute a series of actions before a given HTTP request reaches the route handler."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"AdonisJS provides two layers at which middleware can be executed."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Global middleware"}]},{"type":"text","value":" are executed for every HTTP request."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Route middleware"}]},{"type":"text","value":" are executed when request for the corresponding route is received."}]}]},{"type":"element","tag":"div","props":{"className":["alert","alert-note"]},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This section focuses on the usage of Middleware with Routes. Make sure to read the "},{"type":"element","tag":"a","props":{"href":"middleware"},"children":[{"type":"text","value":"dedicated guide on middleware"}]},{"type":"text","value":" to learn more about them."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can add middleware to the routes using the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"middleware"}]},{"type":"text","value":" method, as shown below:"}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n  <span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/users/:id'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Show user'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">middleware</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> next<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Inside middleware </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>ctx<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"div","props":{"className":["embed","video"]},"children":[{"type":"element","tag":"video","props":{"controls":true},"children":[{"type":"element","tag":"source","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/q_80/v1582259620/adonisjs.com/route-middleware.mp4","type":"video/mp4"},"children":[]}]}]},{"type":"element","tag":"h3","props":{"id":"middleware-classes"},"children":[{"type":"element","tag":"a","props":{"href":"#middleware-classes","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Middleware Classes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Just like Controllers, you can extract inline middleware functions to their own dedicated classes and keep your routes file clean and tidy."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Creating and using middleware classes involves an extra step of registering middleware aliases and then using the alias as an identifier on the route. The "},{"type":"element","tag":"a","props":{"href":"middleware"},"children":[{"type":"text","value":"middleware guide"}]},{"type":"text","value":" covers the concept of aliases in depth."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Run the following command to create a new middleware class."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-sh","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"node ace make:middleware Sample\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Copy/paste the following contents inside "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"app/Middleware/Sample.ts"}]},{"type":"text","value":" file."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> HttpContextContract <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ioc:Adonis/Core/HttpContext'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SampleMiddleware</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token function\">handle</span> <span class=\"token punctuation\">(</span>ctx<span class=\"token operator\">:</span> HttpContextContract<span class=\"token punctuation\">,</span> next<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Inside middleware </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>ctx<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n   <span class=\"token keyword\">await</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Register the middleware namespace with an alias under "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"start/kernel.ts"}]},{"type":"text","value":" file."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Server<span class=\"token punctuation\">.</span>middleware<span class=\"token punctuation\">.</span><span class=\"token function\">registerNamed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  sample<span class=\"token operator\">:</span> <span class=\"token string\">'App/Middleware/Sample'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Reference the registered alias on the route."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n  <span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/users/:id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'UserController.show'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">middleware</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sample'</span><span class=\"token punctuation\">)</span> 👈\n"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"applying-middleware-to-route-groups"},"children":[{"type":"element","tag":"a","props":{"href":"#applying-middleware-to-route-groups","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Applying Middleware to Route Groups"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also apply middleware to a group of routes. The group middleware will be executed before the middleware registered on individual routes."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n <span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n   Route\n    <span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts/:id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PostsController.update'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">middleware</span><span class=\"token punctuation\">(</span><span class=\"token string\">'postAuthor'</span><span class=\"token punctuation\">)</span>\n <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n <span class=\"token punctuation\">.</span><span class=\"token function\">middleware</span><span class=\"token punctuation\">(</span><span class=\"token string\">'auth'</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the above example, the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"auth"}]},{"type":"text","value":" middleware will executed before the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"postAuthor"}]},{"type":"text","value":" middleware."}]},{"type":"element","tag":"h3","props":{"id":"applying-middleware-to-route-resources"},"children":[{"type":"element","tag":"a","props":{"href":"#applying-middleware-to-route-resources","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Applying Middleware to Route Resources"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route.resource"}]},{"type":"text","value":" method also exposes the API to register middleware on all or selected routes registered by a given resource."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n  <span class=\"token punctuation\">.</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'users'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'UsersController'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">middleware</span><span class=\"token punctuation\">(</span><span class=\"token string\">'auth'</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When selectively applying middleware to certain routes, the object "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"key is the name of the route"}]},{"type":"text","value":" and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"value is an array of middleware"}]},{"type":"text","value":" to apply."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n  <span class=\"token punctuation\">.</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'posts'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PostsController'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">middleware</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    store<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'auth'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    update<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'auth'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    destroy<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'auth'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"domains"},"children":[{"type":"element","tag":"a","props":{"href":"#domains","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Domains"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"AdonisJS makes it super easy to create multi domain applications. Using "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"domains"}]},{"type":"text","value":", you can restrict routes to be accessible only for a given domain."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n  <span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Scoped to blog.adonisjs.com only</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token string\">'blog.adonisjs.com'</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When running your application, AdonisJS will make sure that routes defined inside the above group are only accessible by the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"blog.adonisjs.com"}]},{"type":"text","value":" domain."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also define dynamic parameters within the domain name. For example: Creating a multi-tenant app and accepting the tenant subdomain as part of the URL."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the following route, you can access the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"tenant"}]},{"type":"text","value":" value from the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"subdomains"}]},{"type":"text","value":" object."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n  <span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> subdomains <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">tenant: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>subdomains<span class=\"token punctuation\">.</span>tenant<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token string\">':tenant.myapp.com'</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"naming-routes"},"children":[{"type":"element","tag":"a","props":{"href":"#naming-routes","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Naming Routes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The routes are defined inside a single file ie. "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"start/routes.ts"}]},{"type":"text","value":", but they can be referenced across the application to generate URLs. For example:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instead of hardcoding the form action inside HTML, you can make use of the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"route"}]},{"type":"text","value":" helper to generate a URL for you."}]},{"type":"element","tag":"div","props":{"className":["tabs"]},"children":[{"type":"element","tag":"div","props":{"className":["tab-head"]},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{"dataTitle":"tab-1"},"children":[{"type":"text","value":"Route"}]},{"type":"element","tag":"li","props":{"dataTitle":"tab-2"},"children":[{"type":"text","value":"Template"}]}]}]},{"type":"element","tag":"div","props":{"className":["tab-body"]},"children":[{"type":"element","tag":"div","props":{"className":["tab-item"],"id":"tab-1"},"children":[{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Route"}]},{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/users/:id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'UsersController.show'</span><span class=\"token punctuation\">)</span>\n"}]}]}]}]},{"type":"element","tag":"div","props":{"className":["tab-item"],"id":"tab-2"},"children":[{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Template"}]},{"type":"element","tag":"pre","props":{"className":["language-edge","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token other\">&lt;form action=\"</span><span class=\"token mustache\"><span class=\"token punctuation\">{{</span> route(<span class=\"token string\"><span class=\"token punctuation\">'</span><span class=\"token other\">/users/:id</span><span class=\"token punctuation\">'</span></span>, { params: { id: <span class=\"token number\">1</span> } }) <span class=\"token punctuation\">}}</span></span><span class=\"token other\">\">\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span></span>\n"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Currently, there is a problem with our code. If we were to change the route pattern "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/users/:id"}]},{"type":"text","value":" to something else, we will have to make the same change inside the template as well."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To overcome this problem, AdonisJS allows you to give unique names to your routes. When generating the URL, you can use the name instead of the route pattern."}]},{"type":"element","tag":"div","props":{"className":["tabs"]},"children":[{"type":"element","tag":"div","props":{"className":["tab-head"]},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{"dataTitle":"tab-1"},"children":[{"type":"text","value":"Route with name"}]},{"type":"element","tag":"li","props":{"dataTitle":"tab-2"},"children":[{"type":"text","value":"Template"}]}]}]},{"type":"element","tag":"div","props":{"className":["tab-body"]},"children":[{"type":"element","tag":"div","props":{"className":["tab-item"],"id":"tab-1"},"children":[{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Route with name"}]},{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route\n <span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/users/:id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'UsersController.show'</span><span class=\"token punctuation\">)</span>\n <span class=\"token punctuation\">.</span><span class=\"token keyword\">as</span><span class=\"token punctuation\">(</span><span class=\"token string\">'showUser'</span><span class=\"token punctuation\">)</span> 👈\n"}]}]}]}]},{"type":"element","tag":"div","props":{"className":["tab-item"],"id":"tab-2"},"children":[{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Template"}]},{"type":"element","tag":"pre","props":{"className":["language-edge","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token other\">&lt;form action=\"</span><span class=\"token mustache\"><span class=\"token punctuation\">{{</span> route(<span class=\"token string\"><span class=\"token punctuation\">'</span><span class=\"token other\">showUser</span><span class=\"token punctuation\">'</span></span>, { params: { id: <span class=\"token number\">1</span> } }) <span class=\"token punctuation\">}}</span></span><span class=\"token other\">\">\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span></span>\n"}]}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"naming-resourceful-routes"},"children":[{"type":"element","tag":"a","props":{"href":"#naming-resourceful-routes","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Naming Resourceful Routes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The routes registered by the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route.resource"}]},{"type":"text","value":" method are automatically named after the resource name."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For example: The "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"users"}]},{"type":"text","value":" resource will have the following names."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"users.index"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"users.create"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"users.store"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"users.show"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"users.edit"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"users.update"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"users.delete"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Similarly the nested resources will be named after the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"parent.child"}]},{"type":"text","value":" resource."}]},{"type":"element","tag":"h3","props":{"id":"naming-route-groups"},"children":[{"type":"element","tag":"a","props":{"href":"#naming-route-groups","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Naming Route Groups"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using route groups, you can prefix the routes names for that given group. This is helpful, when you have similar routes outside the group and want to avoid name collisions. For example:"}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'users'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'UserController'</span><span class=\"token punctuation\">)</span>\n\nRoute\n  <span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    Route<span class=\"token punctuation\">.</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'users'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'UserController'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">prefix</span><span class=\"token punctuation\">(</span><span class=\"token string\">'v1'</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The above code will not work, since we have two identical resources, both having the same names. We can fix the issue by prefixing the resourceful routes names, declared inside the group."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Route<span class=\"token punctuation\">.</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'users'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'UserController'</span><span class=\"token punctuation\">)</span>\n\nRoute\n  <span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    Route<span class=\"token punctuation\">.</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'users'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'UserController'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">prefix</span><span class=\"token punctuation\">(</span><span class=\"token string\">'v1'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token keyword\">as</span><span class=\"token punctuation\">(</span><span class=\"token string\">'apiv1'</span><span class=\"token punctuation\">)</span> 👈\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/q_auto,w_700,f_auto,fl_lossy/v1582270130/adonisjs.com/groups-naming.png"},"children":[]}]}]}
