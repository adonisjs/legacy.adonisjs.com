{"type":"root","children":[{"type":"element","tag":"dimertitle","props":{},"children":[{"type":"text","value":"Depreciating self reference inside config files"}]},{"type":"element","tag":"h1","props":{"id":"depreciating-self-reference-inside-config-files"},"children":[{"type":"element","tag":"a","props":{"href":"#depreciating-self-reference-inside-config-files","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Depreciating self reference inside config files"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"AdonisJs allows you to define reference to an existing value inside the config files. For example."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"config/app.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n   appKey<span class=\"token operator\">:</span> Env<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'APP_KEY'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now you can make use of the above value inside any other config file using the following syntax."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"config/auth.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n   jwt<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n     secret<span class=\"token operator\">:</span> <span class=\"token string\">'self::app.appKey'</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to resolve self references, each "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Config.get"}]},{"type":"text","value":" call has to recursively parse the return value and make sure all references to self are resolved."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This behavior causes an unnecessary performance overhead, without any major gains."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"@adonisjs/framework@4.0.30"}]},{"type":"text","value":" has marked this behavior as depreciated and will be removed in "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"another minor"}]},{"type":"text","value":" release of the framework ( 4.1.0 )."}]}]}
