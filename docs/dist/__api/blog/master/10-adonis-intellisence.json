{"type":"root","children":[{"type":"element","tag":"dimertitle","props":{},"children":[{"type":"text","value":"Adonis + IntelliSense = ðŸ’œ"}]},{"type":"element","tag":"h1","props":{"id":"adonis--intellisense--"},"children":[{"type":"element","tag":"a","props":{"href":"#adonis--intellisense--","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Adonis + IntelliSense = ðŸ’œ"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We read on a daily basis a lot of complaints about Adonis not having any IntelliSense that make it difficult to use for newcomers or even advance user. We are completely aware of this issue and working hard to provide you with a solution."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before we explain to you how to add IntelliSense to your project, we want to clear your mind about some points."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"JavaScript is a highly dynamic language, that makes "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"nearly impossible to have an IntelliSense that is 100% accurate"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We are rewriting the core of Adonis in TypeScript, but that doesn't mean IntelliSense "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"will have a better accuracy"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that you are aware of this, let's add IntelliSense to your application!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here's the pre-requisite to make this work:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Having the latest dev-release of TypeScript ("},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"3.1.0-dev.20180907"}]},{"type":"text","value":" at the time of writing) installed."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Using VSCode "},{"type":"element","tag":"a","props":{"href":"https://code.visualstudio.com/Docs/languages/typescript#_using-newer-typescript-versions"},"children":[{"type":"text","value":"setup with the latest version of TypeScript"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since TypeScript 2.3, "},{"type":"element","tag":"a","props":{"href":"https://www.typescriptlang.org/docs/handbook/type-checking-javascript-files.html"},"children":[{"type":"text","value":"we have the possibility to type-check JavaScript file"}]},{"type":"text","value":". We are going to use this feature to provide IntelliSense to our project."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To make it works, we can use "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"JSDoc"}]},{"type":"text","value":" syntax."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token comment\">/** @type {number} */</span>\n<span class=\"token keyword\">const</span> x\n\nx<span class=\"token punctuation\">.</span> <span class=\"token comment\">// Number intellisense</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The latest version of TypeScript let us use a dynamic "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"import()"}]},{"type":"text","value":" statement to declare the type. It means we can import the related file to get IntelliSense working."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token comment\">/** @type {import('@adonisjs/framework/src/Route/Manager'} */</span>\n<span class=\"token keyword\">const</span> Route <span class=\"token operator\">=</span> <span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Route'</span><span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"div","props":{"className":["embed","video"]},"children":[{"type":"element","tag":"video","props":{"controls":true},"children":[{"type":"element","tag":"source","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/v1588697780/adonisjs.com/blog/c4abb0b0-6da2-49f5-ab98-58ac34afef7f_fvqq9w.mp4","type":"video/mp4"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also make it work for the HTTP Context we receive in all controller."}]},{"type":"element","tag":"div","props":{"className":["embed","video"]},"children":[{"type":"element","tag":"video","props":{"controls":true},"children":[{"type":"element","tag":"source","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/v1588697904/adonisjs.com/blog/e78c5c1e-8a5e-47fc-be6a-2c33e22e27fb_oghh2s.mp4","type":"video/mp4"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instead of typing everytime the whole import statement, you can also create a typedef at the beginning of your file."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token comment\">/** @typedef {import('@adonisjs/framework/src/Request')} Request */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/framework/src/View')} View */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/auth/src/Schemes/Session')} AuthSession */</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyController</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/**\n   * @param {object} ctx\n   * @param {AuthSession} ctx.auth\n   * @param {Request} ctx.request\n   * @param {View} ctx.view\n   */</span>\n  <span class=\"token function\">index</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> auth<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> view <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Your code...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sometime, you may require to not use an instance but the class itself, like when extending the class. This can be achieved using the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"typeof"}]},{"type":"text","value":" operator."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token comment\">/** @type {typeof import('@adonisjs/lucid/src/Lucid/Model')} */</span>\n<span class=\"token keyword\">const</span> Model <span class=\"token operator\">=</span> <span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Model'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyModel</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Model</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span>\n"}]}]}]},{"type":"element","tag":"div","props":{"className":["embed","video"]},"children":[{"type":"element","tag":"video","props":{"controls":true},"children":[{"type":"element","tag":"source","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/v1588698004/adonisjs.com/blog/f178769f-30b2-4863-8854-6eafdf5ee115_zewtzn.mp4","type":"video/mp4"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Take notes that we are not using a "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"typedef"}]},{"type":"text","value":" in this example. There's currently "},{"type":"element","tag":"a","props":{"href":"https://github.com/Microsoft/TypeScript/issues/27110"},"children":[{"type":"text","value":"an issue in TypeScript"}]},{"type":"text","value":" that prevents us from doing so."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The only thing you need to know now is which file you need to import. Here's a list of the most common one."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token comment\">/** @typedef {import('@adonisjs/auth/src/Schemes/Session')} AuthSession */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/framework/src/Env')} Env */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/lucid/src/Factory')} Factory */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/framework/src/Hash')} Hash */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/ignitor/src/Helpers')} Helpers */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/framework/src/Request')} Request */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/framework/src/Response')} Response */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/framework/src/Route/Manager'} Route */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/lucid/src/Schema')} Schema */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/framework/src/Server')} Server */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/session/src/Session')} Session */</span>\n<span class=\"token comment\">/** @typedef {import('@adonisjs/framework/src/View')} View */</span>\n\n<span class=\"token comment\">/** @type {typeof import('@adonisjs/lucid/src/Lucid/Model')} */</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It can happen that IntelliSense is lost when chaining methods. If that the case, please open an issue in the correct repository so we can fix it."}]}]}
